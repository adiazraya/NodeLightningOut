YUI.add("aui-loading-mask-deprecated",function(e,t){var n=e.Lang,r="boundingBox",i="contentBox",s="hide",o="host",u="messageEl",t="loadingmask",a="position",f="show",l="static",c="strings",h="target",p="toggle",d=e.getClassName,v=d(t),m=d(t,"masked"),g=d(t,"masked","relative"),y=d(t,"message"),b=d(t,"message","content"),w='<div class="'+y+'"><div class="'+b+'">{0}</div></div>',E=e.Component.create({NAME:t,NS:t,ATTRS:{messageEl:{valueFn:function(t){var r=this,i=r.get(c);return e.Node.create(n.sub(w,[i.loading]))}},strings:{value:{loading:"Loading&hellip;"}},target:{setter:function(){var t=this,n=t.get(o);return n instanceof e.Widget&&(n=n.get(i)),n},value:null}},EXTENDS:e.Plugin.Base,prototype:{initializer:function(t){var n=this;n.IGNORED_ATTRS=e.merge({host:!0},E.ATTRS),n.renderUI(),n.bindUI(),n._createDynamicAttrs(t)},renderUI:function(){var e=this,t=e.get(c);e._renderOverlayMask(),e.overlayMask.get(r).append(e.get(u))},bindUI:function(){var e=this;e._bindOverlayMaskUI()},_bindOverlayMaskUI:function(){var e=this;e.overlayMask.after("visibleChange",e._afterVisibleChange,e)},centerMessage:function(){var e=this;e.get(u).center(e.overlayMask.get(r))},refreshMask:function(){var e=this;e.overlayMask.refreshMask(),e.centerMessage()},_afterVisibleChange:function(e){var t=this,n=t.get(h),r=n.getStyle(a)==l;n.toggleClass(m,e.newVal),n.toggleClass(g,e.newVal&&r),e.newVal&&t.refreshMask()},_renderOverlayMask:function(){var t=this,n=t.get(h);t.overlayMask=(new e.OverlayMask({target:n,cssClass:v})).render(n)},_createDynamicAttrs:function(t){var n=this;e.each(t,function(e,t){var r=n.IGNORED_ATTRS[t];r||n.addAttr(t,{setter:function(e){return this.overlayMask.set(t,e),e},value:e})})}}});e.each([s,f,p],function(e){E.prototype[e]=function(){this.overlayMask[e]()}}),e.LoadingMask=E},"2.0.0",{requires:["plugin","aui-overlay-mask-deprecated"],skinnable:!0});AUI.add("liferay-ajax-session",function(b){var c=b.Lang;var a=b.Component.create({EXTENDS:b.IORequest,prototype:{initializer:function(){var d=this;if(Liferay.Session){d.after("complete",d._resetSessionInterval,d)}},_resetSessionInterval:function(f,h,g,e){var d=this;if(!e||(e&&(e.sessionExtend||!c.isBoolean(e.sessionExtend)))){Liferay.Session.resetInterval()}}}});b._IORequest=b.IORequest;b.IORequest=a},"",{requires:["aui-io-request","liferay-session"]});AUI.add("liferay-session",function(c){var e=c.Lang;var j=[];var k=c.config;var d=k.doc;var h={active:"activated"};var g={};var f={src:g};var b=themeDisplay.getPathMain()+"/portal/";var i=c.Component.create({ATTRS:{autoExtend:{value:false},redirectUrl:{value:""},redirectOnExpire:{value:true},sessionState:{value:"active"},sessionLength:{getter:"_getLengthInMillis",value:0},timestamp:{getter:"_getTimestamp",setter:"_setTimestamp",value:0},warningLength:{getter:"_getLengthInMillis",setter:"_setWarningLength",value:0},warningTime:{getter:"_getWarningTime",value:0}},EXTENDS:c.Base,NAME:"liferaysession",prototype:{initializer:function(m){var l=this;l._cookieOptions={path:"/",secure:c.UA.secure};l._registered={};l.set("timestamp");l._initEvents();l._startTimer()},registerInterval:function(n){var l=this;var m;var o=l._registered;if(e.isFunction(n)){m=c.stamp(n);o[m]=n}return m},resetInterval:function(){var l=this;l._stopTimer();l._startTimer()},unregisterInterval:function(m){var l=this;var n=l._registered;if(c.Object.owns(n,m)){delete n[m]}return m},expire:function(){var l=this;l.set("sessionState","expired",f)},extend:function(){var l=this;l.set("sessionState","active",f)},warn:function(){var l=this;l.set("sessionState","warned",f)},_afterSessionStateChange:function(n){var l=this;var m=n.newVal;var o=null;if(("src" in n)&&n.details.length){o=n.details[0]}l.fire(h[m]||m,o)},_defActivatedFn:function(m){var l=this;l.set("timestamp");if(m.src==g){l._getExtendIO().start()}},_defExpiredFn:function(m){var l=this;c.clearInterval(l._intervalId);l.set("timestamp","expired");if(m.src===g){l._getExpireIO().start()}},_getExpireIO:function(){var l=this;var m=l._expireIO;if(!m){m=c.io.request(b+"expire_session",{autoLoad:false,on:{success:function(n,p,o){Liferay.fire("sessionExpired");if(l.get("redirectOnExpire")){location.href=l.get("redirectUrl")}}}});l._expireIO=m}return m},_getExtendIO:function(){var l=this;var m=l._extendIO;if(!m){m=c.io.request(b+"extend_session",{autoLoad:false});l._extendIO=m}return m},_getLengthInMillis:function(m){var l=this;return m*1000},_getTimestamp:function(m){var l=this;return c.Cookie.get(l._cookieKey,l._cookieOptions)||l._initTimestamp},_getWarningTime:function(){var l=this;return l.get("sessionLength")-l.get("warningLength")},_initEvents:function(){var l=this;l.on("sessionStateChange",l._onSessionStateChange);l.after("sessionStateChange",l._afterSessionStateChange);l.publish("activated",{defaultFn:c.bind("_defActivatedFn",l)});l.publish("expired",{defaultFn:c.bind("_defExpiredFn",l)});l.publish("warned")},_onSessionStateChange:function(n){var l=this;var m=n.newVal;var o=n.prevVal;if(o=="expired"&&o!=m){n.preventDefault()}else{if(o=="active"&&o==m){l._afterSessionStateChange(n)}}},_setTimestamp:function(m){var l=this;m=String(m||e.now());l._initTimestamp=m;if(navigator.cookieEnabled){c.Cookie.set(l._cookieKey,m,l._cookieOptions)}},_setWarningLength:function(m){var l=this;return Math.min(l.get("sessionLength"),m)},_startTimer:function(){var l=this;var m=l.get("warningTime");var o=l.get("sessionLength");var p=l._registered;var n=1000;l._intervalId=c.setInterval(function(){var z;var t=l.get("timestamp");var x=o;if(e.toInt(t)){z=Math.floor((e.now()-t)/1000)*1000;x=z}else{t="expired"}var u=l.get("autoExtend");var y=false;var w=false;var s=(x>=o);var v=(x>=m);if(v){if(t=="expired"){u=false;y=true;s=true}var q=l.get("sessionState");if(s&&q!="expired"){if(u){s=false;v=false;y=false;w=false;l.extend()}else{l.expire();y=true}}else{if(!u&&v&&!s&&q!="warned"){l.warn();w=true}}}for(var r in p){p[r](x,n,v,s,w,y)}},n)},_stopTimer:function(){var l=this;c.clearInterval(l._intervalId)},_cookieKey:"LFR_SESSION_STATE_"+themeDisplay.getUserId()}});i.SRC=g;var a=c.Component.create({ATTRS:{pageTitle:{value:d.title}},EXTENDS:c.Plugin.Base,NAME:"liferaysessiondisplay",NS:"display",prototype:{initializer:function(m){var l=this;var n=l.get("host");if(Liferay.Util.getTop()==k.win){l._host=n;l._toggleText={hide:'\u004f\u0063\u0075\u006c\u0074\u0061\u0072',show:'\u004d\u006f\u0073\u0074\u0072\u0061\u0072'};l._expiredText='\u00a1\u0041\u0074\u0065\u006e\u0063\u0069\u00f3\u006e\u0021\u0020\u0044\u0065\u0062\u0069\u0064\u006f\u0020\u0061\u0020\u006c\u0061\u0020\u0069\u006e\u0061\u0063\u0074\u0069\u0076\u0069\u0064\u0061\u0064\u002c\u0020\u0073\u0075\u0020\u0073\u0065\u0073\u0069\u00f3\u006e\u0020\u0068\u0061\u0020\u0065\u0078\u0070\u0069\u0072\u0061\u0064\u006f\u002e\u0020\u0050\u006f\u0072\u0020\u0066\u0061\u0076\u006f\u0072\u0020\u0067\u0075\u0061\u0072\u0064\u0065\u0020\u0063\u0075\u0061\u006c\u0071\u0075\u0069\u0065\u0072\u0020\u0074\u0065\u0078\u0074\u006f\u0020\u0071\u0075\u0065\u0020\u0068\u0061\u0079\u0061\u0020\u0069\u006e\u0074\u0072\u006f\u0064\u0075\u0063\u0069\u0064\u006f\u0020\u0065\u006e\u0020\u006c\u0061\u0020\u0070\u00e1\u0067\u0069\u006e\u0061\u0020\u0061\u006e\u0074\u0065\u0073\u0020\u0064\u0065\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0061\u0072\u002e';l._extendText='\u0045\u0078\u0074\u0065\u006e\u0064\u0065\u0072';l._warningText='\u00a1\u0041\u0074\u0065\u006e\u0063\u0069\u00f3\u006e\u0021\u0020\u0044\u0065\u0062\u0069\u0064\u006f\u0020\u0061\u0020\u006c\u0061\u0020\u0069\u006e\u0061\u0063\u0074\u0069\u0076\u0069\u0064\u0061\u0064\u0020\u0073\u0075\u0020\u0073\u0065\u0073\u0069\u00f3\u006e\u0020\u0065\u0078\u0070\u0069\u0072\u0061\u0072\u00e1\u0020\u0065\u006e\u0020\u007b\u0030\u007d\u002e\u0020\u0050\u0061\u0072\u0061\u0020\u0065\u0078\u0074\u0065\u006e\u0064\u0065\u0072\u0020\u0073\u0075\u0020\u0073\u0065\u0073\u0069\u00f3\u006e\u0020\u006f\u0074\u0072\u006f\u0028\u0073\u0029\u0020\u007b\u0031\u007d\u0020\u006d\u0069\u006e\u0075\u0074\u006f\u0028\u0073\u0029\u002c\u0020\u0070\u006f\u0072\u0020\u0066\u0061\u0076\u006f\u0072\u002c\u0020\u0070\u0075\u006c\u0073\u0065\u0020\u0065\u006c\u0020\u0062\u006f\u0074\u00f3\u006e\u0020\u003c\u0065\u006d\u003e\u0045\u0078\u0074\u0065\u006e\u0064\u0065\u0072\u003c\u002f\u0065\u006d\u003e\u002e';l._warningText=e.sub(l._warningText,['<span class="countdown-timer">{0}</span>',n.get("sessionLength")/60000]);n.on("sessionStateChange",l._onHostSessionStateChange,l);l.afterHostMethod("_defActivatedFn",l._afterDefActivatedFn);l.afterHostMethod("_defExpiredFn",l._afterDefExpiredFn)}else{n.unplug(l)}},_afterDefActivatedFn:function(m){var l=this;l._uiSetActivated()},_afterDefExpiredFn:function(m){var l=this;l._host.unregisterInterval(l._intervalId);l._uiSetExpired()},_beforeHostWarned:function(l){var t=this;var u=t._host;var r=u.get("sessionLength");var o=u.get("timestamp");var p=u.get("warningLength");var s=r;if(e.toInt(o)){s=Math.floor((e.now()-o)/1000)*1000}var n=r-s;if(n>p){n=p}var q=t._getBanner();var m=q.one(".countdown-timer");t._uiSetRemainingTime(n,m);q.show();t._intervalId=u.registerInterval(function(w,y,A,v,z,x){if(!A){t._uiSetActivated()}else{if(!v){if(z){if(n<=0){n=p}q.show()}w=Math.floor((e.now()-o)/1000)*1000;n=r-w;t._uiSetRemainingTime(n,m)}}n-=y})},_getBanner:function(){var l=this;var m=l._banner;if(!m){m=new Liferay.Notice({closeText:l._extendText,content:l._warningText,noticeClass:"popup-alert-notice",onClose:function(){l._host.extend()},toggleText:false});l._banner=m}return m},_onHostSessionStateChange:function(m){var l=this;if(m.newVal=="warned"){l._beforeHostWarned(m)}},_uiSetActivated:function(){var l=this;d.title=l.reset("pageTitle").get("pageTitle");l._host.unregisterInterval(l._intervalId);var m=l._getBanner();if(m){m.hide()}},_uiSetExpired:function(){var l=this;var m=l._getBanner();m.html(l._expiredText);m.replaceClass("popup-alert-notice","popup-alert-warning");m.addClass("alert-error");m.show();d.title=l.get("pageTitle")},_uiSetRemainingTime:function(o,n){var l=this;var m=l._getBanner();n=n||m.one(".countdown-timer");n.text(l._formatTime(o));d.title=m.text()},_formatNumber:function(n){var l=this;var m=Math.floor;var o=e.String.padNumber;return e.String.padNumber(Math.floor(n),2)},_formatTime:function(m){var l=this;m=Number(m);if(e.isNumber(m)&&m>0){m/=1000;j[0]=l._formatNumber(m/3600);m%=3600;j[1]=l._formatNumber(m/60);m%=60;j[2]=l._formatNumber(m);m=j.join(":")}else{m=0}return m}}});Liferay.SessionBase=i;Liferay.SessionDisplay=a},"",{requires:["aui-io-request","aui-timer","cookie","liferay-notice"]});YUI.add("aui-overlay-mask-deprecated",function(e,t){var n=e.Lang,r=n.isArray,i=n.isString,s=n.isNumber,o=n.isValue,u=e.config,a=e.UA,f=a.ie<=6,l="absolute",c="alignPoints",h="background",p="boundingBox",d="contentBox",v="fixed",m="height",g="offsetHeight",y="offsetWidth",b="opacity",w="overlaymask",E="position",S="target",x="width",T=e.Component.create({NAME:w,ATTRS:{alignPoints:{value:["tl","tl"],validator:r},background:{lazyAdd:!1,value:null,validator:i,setter:function(e){return e&&this.get(d).setStyle(h,e),e}},target:{cloneDefaultValue:!1,lazyAdd:!1,value:u.doc,setter:function(t){var n=this,r=e.one(t),i=n._isDoc=r.compareTo(u.doc),s=n._isWin=r.compareTo(u.win);return n._fullPage=i||s,r}},opacity:{value:.5,validator:s,setter:function(e){return this._setOpacity(e)}},shim:{value:e.UA.ie},visible:{value:!1},zIndex:{value:1e3}},EXTENDS:e.OverlayBase,prototype:{bindUI:function(){var t=this;T.superclass.bindUI.apply(this,arguments),t.after("targetChange",t._afterTargetChange),t.after("visibleChange",t._afterVisibleChange),e.on("windowresize",e.bind(t.refreshMask,t))},syncUI:function(){var e=this;e.refreshMask()},getTargetSize:function(){var t=this,n=t.get(S),r=t._isDoc,i=t._isWin,s=n.get(g),o=n.get(y);return f?i?(o=e.DOM.winWidth(),s=e.DOM.winHeight()):r&&(o=e.DOM.docWidth(),s=e.DOM.docHeight()):t._fullPage&&(s="100%",o="100%"),{height:s,width:o}},refreshMask:function(){var e=this,t=e.get(c),n=e.get(S),r=e.get(p),i=e.getTargetSize(),s=e._fullPage;r.setStyles({position:f||!s?l:v,left:0,top:0});var u=i.height,a=i.width;o(u)&&e.set(m,u),o(a)&&e.set(x,a),s||e.align(n,t)},_setOpacity:function(e){var t=this;return t.get(d).setStyle(b,e),e},_uiSetVisible:function(e){var t=this;T.superclass._uiSetVisible.apply(this,arguments),e&&t._setOpacity(t.get(b))},_afterTargetChange:function(e){var t=this;t.refreshMask()},_afterVisibleChange:function(e){var t=this;t._uiSetVisible(e.newVal)},_uiSetXY:function(){var e=this;(!e._fullPage||f)&&T.superclass._uiSetXY.apply(e,arguments)}}});e.OverlayMask=T},"2.0.0",{requires:["event-resize","aui-base-deprecated","aui-overlay-base-deprecated"],skinnable:!0});YUI.add("aui-io-plugin-deprecated",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isString,s=function(t){return t instanceof e.Node},o=e.WidgetStdMod,u="Node",a="Widget",f="",l="failure",c="failureMessage",h="host",p="icon",d="io",v="IOPlugin",m="loading",g="loadingMask",y="node",b="outer",w="parseContent",E="queue",S="rendered",x="section",T="showLoading",N="success",C="type",k="where",L=e.getClassName,A=L(p,m),O=e.Component.create({NAME:v,NS:d,ATTRS:{node:{value:null,getter:function(t){var n=this;if(!t){var r=n.get(h),i=n.get(C);if(i==u)t=r;else if(i==a){var s=n.get(x);r.getStdModNode(s)||r.setStdModContent(s,f),t=r.getStdModNode(s)}}return e.one(t)},validator:s},failureMessage:{value:"Failed to retrieve content",validator:i},loadingMask:{value:{}},parseContent:{value:!0,validator:r},showLoading:{value:!0,validator:r},section:{value:o.BODY,validator:function(e){return!e||e==o.BODY||e==o.HEADER||e==o.FOOTER}},type:{readOnly:!0,valueFn:function(){var t=this,n=u;return t.get(h)instanceof e.Widget&&(n=a),n},validator:i},where:{value:o.REPLACE,validator:function(e){return!e||e==o.AFTER||e==o.BEFORE||e==o.REPLACE||e==b}}},EXTENDS:e.IORequest,prototype:{bindUI:function(){var e=this;e.on("activeChange",e._onActiveChange),e.on(N,e._successHandler),e.on(l,e._failureHandler);if(e.get(C)==a&&e.get(T)){var t=e.get(h);t.after("heightChange",e._syncLoadingMaskUI,e),t.after("widthChange",e._syncLoadingMaskUI,e)}},_autoStart:function(){var e=this;e.bindUI(),O.superclass._autoStart.apply(this,arguments)},_bindParseContent:function(){var t=this,n=t.get(y);n&&!n.ParseContent&&t.get(w)&&n.plug(e.Plugin.ParseContent)},hideLoading:function(){var e=this,t=e.get(y);t.loadingmask&&t.loadingmask.hide()},setContent:function(e){var t=this;t._bindParseContent(),t._getContentSetterByType().apply(t,[e]),t.overlayMaskBoundingBox&&t.overlayMaskBoundingBox.remove()},showLoading:function(){var t=this,n=t.get(y);n.loadingmask?t.overlayMaskBoundingBox&&n.append(t.overlayMaskBoundingBox):(n.plug(e.LoadingMask,t.get(g)),t.overlayMaskBoundingBox=n.loadingmask.overlayMask.get("boundingBox")),n.loadingmask.show()},start:function(){var e=this,t=e.get(h);t.get(S)||t.after("render",function(){e._setLoadingUI(!0)}),O.superclass.start.apply(e,arguments)},_getContentSetterByType:function(){var t=this,n={Node:function(t){var n=this,r=n.get(y);t instanceof e.NodeList&&(t=t.toFrag()),t instanceof e.Node&&(t=t._node);var i=n.get(k);i==b?r.replace(t):r.insert(t,i)},Widget:function(e){var t=this,n=t.get(h);n.setStdModContent.apply(n,[t.get(x),e,t.get(k)])}};return n[this.get(C)]},_setLoadingUI:function(e){var t=this;t.get(T)&&(e?t.showLoading():t.hideLoading())},_syncLoadingMaskUI:function(){var e=this;e.get(y).loadingmask.refreshMask()},_successHandler:function(e,t,n){var r=this;r.setContent(this.get("responseData"))},_failureHandler:function(e,t,n){var r=this;r.setContent(r.get(c))},_onActiveChange:function(e){var t=this,n=t.get(h),r=t.get(C)==a;(!r||r&&n&&n.get(S))&&t._setLoadingUI(e.newVal)}}});e.Node.prototype.load=function(t,r,i){var s=this,o=t.indexOf(" "),u;o>0&&(u=t.slice(o,t.length),t=t.slice(0,o)),n.isFunction(r)&&(i=r,r=null),r=r||{},i&&(r.after=r.after||{},r.after.success=i);var a=r.where;return r.uri=t,r.where=a,u&&(r.selector=u,r.where=a||"replace"),s.plug(e.Plugin.IO,r),s},e.namespace("Plugin").IO=O},"2.0.0",{requires:["aui-overlay-base-deprecated","aui-parse-content","aui-io-request","aui-loading-mask-deprecated"]});